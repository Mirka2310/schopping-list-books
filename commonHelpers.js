var L=Object.defineProperty;var I=(s,e,t)=>e in s?L(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t;var n=(s,e,t)=>(I(s,typeof e!="symbol"?e+"":e,t),t);import{a as P,i as u,S as w}from"./assets/vendor-b42c18af.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))c(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const m of a.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&c(m)}).observe(document,{childList:!0,subtree:!0});function t(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function c(r){if(r.ep)return;r.ep=!0;const a=t(r);fetch(r.href,a)}})();class b{constructor(e){n(this,"BASE_URL","https://pixabay.com/api/");n(this,"currentPage",1);n(this,"resultsPerPage",15);n(this,"totalPages",0);n(this,"query","");this.apiKey=e}async getImageList(){const e={params:{key:this.apiKey,q:this.query,image_type:"photo",orientation:"horizontal",safesearch:"true",page:this.currentPage,per_page:this.resultsPerPage}};try{const t=await P.get(this.BASE_URL,e);return this.totalPages=Math.ceil(t.data.totalHits/15),t.data.hits}catch{throw new Error("something went wrong")}}}function p(s){return s.length<=0?(u.error({message:"Sorry, there are no images matching your search query. Please try again!",progressBar:!1,transitionIn:"fadeIn",position:"topRight"}),"no images found"):s.map(t=>`<li class="gallery-item">
            <a class="gallery-link" href="${t.largeImageURL}">
              <img src="${t.webformatURL}" alt="${t.tags}" width="360" height="200">
            </a>
            <ul class="gallery-item-desc">
              <li class="gallery-item-desc-item"><span class="gallery-item-desc-cap">Likes</span><span>${t.likes}</span></li>
              <li class="gallery-item-desc-item"><span class="gallery-item-desc-cap">Views</span><span>${t.views}</span></li>
              <li class="gallery-item-desc-item"><span class="gallery-item-desc-cap">Comments</span><span>${t.comments}</span></li>
              <li class="gallery-item-desc-item"><span class="gallery-item-desc-cap">Downloads</span><span>${t.downloads}</span></li>
            </ul>
          </li>`).join("")}function h(s,e){e.insertAdjacentHTML("beforeend",s)}const f=document.querySelector(".gallery-list"),d=document.querySelector(".search-form-input"),q=document.querySelector(".search-form"),g=document.querySelector(".loader"),l=document.querySelector(".load-more-button"),v="42291404-11497e3de12ce0a674f69f05b",i=new b(v),y=new w(".gallery-list a",{captionDelay:250,captionsData:"alt"});async function S(s){if(s.preventDefault(),f.innerHTML="",i.currentPage=1,i.query=d.value,o(l,!1),R(i.query)){d.value="",o(g,!0);const e=await i.getImageList();if(o(g,!1),e.length>0){const t=p(e);h(t,f),y.refresh(),i.totalPages>1&&o(l,!0)}else u.info({message:"No images found",progressBar:!1,transitionIn:"fadeIn",position:"topRight"});d.value=""}else u.error({message:"Search attribute is not valid",progressBar:!1,transitionIn:"fadeIn",position:"topRight"})}async function B(s){s.preventDefault(),i.currentPage+=1,o(g,!0),o(l,!1);const e=await i.getImageList();o(g,!1);const t=p(e);h(t,f),y.refresh();const c=document.querySelector(".gallery-item");window.scrollBy({top:c.getBoundingClientRect().height*2,behavior:"smooth"}),i.totalPages===i.currentPage?(o(l,!1),u.info({message:"We're sorry, but you've reached the end of search results.",progressBar:!1,transitionIn:"fadeIn",position:"topRight"})):o(l,!0)}function R(s){return s.trim()!==""}function o(s,e=!1){e?s.classList.remove("hidden"):s.classList.add("hidden")}q.addEventListener("submit",S);l.addEventListener("click",B);
//# sourceMappingURL=commonHelpers.js.map
